{
	"info": {
		"_postman_id": "6982b186-3419-49ea-ba0a-f49e244f8738",
		"name": "Ipswich JAFFA Results API Tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "1305764"
	},
	"item": [
		{
			"name": "V2",
			"item": [
				{
					"name": "Categories",
					"item": [
						{
							"name": "Read categories",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/categories",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"categories"
									]
								},
								"description": "Get events"
							},
							"response": []
						}
					]
				},
				{
					"name": "CourseTypes",
					"item": [
						{
							"name": "Read course types",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/coursetypes",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"coursetypes"
									]
								},
								"description": "Get events"
							},
							"response": []
						}
					]
				},
				{
					"name": "Distances",
					"item": [
						{
							"name": "Read distances",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.globals.set(\"schema\", pm.globals.get(\"distanceReadSchema\"));"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/distances",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"distances"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "Events",
					"item": [
						{
							"name": "Read events",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events"
									]
								},
								"description": "Get events"
							},
							"response": []
						},
						{
							"name": "Read event top attendees",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events/203/topAttendees",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events",
										"203",
										"topAttendees"
									]
								},
								"description": "Get events"
							},
							"response": []
						},
						{
							"name": "Read event insights",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events/203/insights",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events",
										"203",
										"insights"
									]
								},
								"description": "Get events"
							},
							"response": []
						},
						{
							"name": "Create event",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"var jsonData = pm.response.json();    \r",
											"pm.environment.set(\"eventId\", jsonData.id);"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");",
											"",
											"// Reset eventId in event of failure",
											"pm.environment.unset(\"eventId\");",
											"",
											"//Evaluate the script to login to WP that is stored as an environment variable.",
											"eval(pm.variables.get(\"executeLoginRequest\"));",
											"",
											"executeLoginRequest();"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{loginToken}}",
											"type": "string"
										}
									]
								},
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"event\": {  \"name\" : \"Test event. To be deleted.\",\n    \"website\" : \"www.test.co.uk\"\n}}"
								},
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Update event - invalid change",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {\r",
											"    pm.response.to.have.status(400);\r",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");",
											"",
											"if (pm.environment.get(\"eventId\")) {",
											"    //Evaluate the script to login to WP that is stored as an environment variable.",
											"    eval(pm.variables.get(\"executeLoginRequest\"));",
											"",
											"    executeLoginRequest();",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{loginToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n \"field\" : \"invalid\",\n \"value\" : \"I should not change\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events/{{eventId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events",
										"{{eventId}}"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Update event - name",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");",
											"",
											"if (pm.environment.get(\"eventId\")) {",
											"    //Evaluate the script to login to WP that is stored as an environment variable.",
											"    eval(pm.variables.get(\"executeLoginRequest\"));",
											"",
											"    executeLoginRequest();",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{loginToken}}",
											"type": "string"
										}
									]
								},
								"method": "PATCH",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n \"field\" : \"name\",\n \"value\" : \"Test name changed\"\n}"
								},
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events/{{eventId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events",
										"{{eventId}}"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Delete event",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.environment.unset(\"eventId\");"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");",
											"",
											"if (pm.environment.get(\"eventId\")) {",
											"    //Evaluate the script to login to WP that is stored as an environment variable.",
											"    eval(pm.variables.get(\"executeLoginRequest\"));",
											"",
											"    executeLoginRequest();",
											"}"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "bearer",
									"bearer": [
										{
											"key": "token",
											"value": "{{loginToken}}",
											"type": "string"
										}
									]
								},
								"method": "DELETE",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/events/{{eventId}}",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"events",
										"{{eventId}}"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "Genders",
					"item": [
						{
							"name": "Read genders",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/genders",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"genders"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "GrandPrix",
					"item": [
						{
							"name": "Read Grand Prix scores",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/grandPrix/2018/2",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"grandPrix",
										"2018",
										"2"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "HistoricRecords",
					"item": [
						{
							"name": "Read historic club records by distance",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/historicrecords/distance/1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"historicrecords",
										"distance",
										"1"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Read historic club records by category",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/historicrecords/category/1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"historicrecords",
										"category",
										"1"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "Rankings",
					"item": [
						{
							"name": "Read result rankings by distance",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/ranking/distance/1?year=2019&sexId=2&categoryId=1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"ranking",
										"distance",
										"1"
									],
									"query": [
										{
											"key": "year",
											"value": "2019"
										},
										{
											"key": "sexId",
											"value": "2"
										},
										{
											"key": "categoryId",
											"value": "1"
										}
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Read average percentage rankings",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/ranking/averageWMA?sexId=2&numberOfRaces=5&year=2019",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"ranking",
										"averageWMA"
									],
									"query": [
										{
											"key": "sexId",
											"value": "2"
										},
										{
											"key": "numberOfRaces",
											"value": "5"
										},
										{
											"key": "year",
											"value": "2019"
										}
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Read WMA percentage rankings",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/ranking/wma?sexId=2&distanceId=1&year=2019&distinct=true",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"ranking",
										"wma"
									],
									"query": [
										{
											"key": "sexId",
											"value": "2"
										},
										{
											"key": "distanceId",
											"value": "1"
										},
										{
											"key": "year",
											"value": "2019"
										},
										{
											"key": "distinct",
											"value": "true"
										}
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "Records",
					"item": [
						{
							"name": "Read overall club records",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/historicrecords/distance/1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"historicrecords",
										"distance",
										"1"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Read top individual records holders",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/records/holders",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"records",
										"holders"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						},
						{
							"name": "Read club records by distance",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation\r",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/results/records/distance/1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"results",
										"records",
										"distance",
										"1"
									]
								},
								"description": "Get distances. Tested."
							},
							"response": []
						}
					]
				},
				{
					"name": "RunnerOfTheMonth",
					"item": []
				},
				{
					"name": "Statistics",
					"item": [
						{
							"name": "Read statistics: Yearly county results count",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/1",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"1"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Yearly country results count",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/2",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"2"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Yearly results count",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/3",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"3"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Peronsal Best leaders",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/4",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"4"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Event with most results",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/6",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"6"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Runners with most results",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/7",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"7"
									]
								}
							},
							"response": []
						},
						{
							"name": "Read statistics: Runners with most results in a year",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// No schema - no validation",
											"pm.globals.unset(\"schema\");"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "noauth"
								},
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{protocol}}://{{host}}/wp-json/ipswich-jaffa-api/v2/statistics/type/8",
									"protocol": "{{protocol}}",
									"host": [
										"{{host}}"
									],
									"path": [
										"wp-json",
										"ipswich-jaffa-api",
										"v2",
										"statistics",
										"type",
										"8"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "TeamResults",
					"item": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"pm.test(\"Status code is 200\", function () {",
					"    pm.response.to.have.status(200);",
					"});",
					"",
					"var schema = pm.globals.get(\"schema\");",
					"if (schema) {",
					"    const schemaJson = JSON.parse(schema);",
					"    ",
					"    pm.test('Schema Validation', function() {",
					"        ",
					"        var result = tv4.validateResult(pm.response.json(), schemaJson);",
					"     ",
					"        if (!result.valid) {",
					"            console.log(result);",
					"        }",
					"     ",
					"        pm.expect(result.valid).to.be.true;",
					"    });",
					"}"
				]
			}
		}
	]
}